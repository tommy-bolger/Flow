Options +FollowSymlinks
RewriteEngine on

RewriteRule ^$ - [L]

#Translate assets/modules/<module_name>/<file_type>/theme/<theme>/<file_path> urls
RewriteRule ^assets/modules/((?!/)[a-zA-Z0-9\-]+)/((?!/)[a-zA-Z0-9\-]+)/theme/((?!/)[a-zA-Z0-9\-]+)/((.*).(.*)) assets/$2/index.php?module=$1&theme=$3&file=$4 [QSA,L,NC]

#Translate assets/<module_name>/<file_type>/<file_path> urls
RewriteRule ^assets/modules/((?!/)[a-zA-Z0-9\-]+)/((?!/)[a-zA-Z0-9\-]+)/((.*).(.*)) assets/$2/index.php?module=$1&file=$3 [QSA,L,NC]

#Translate assets/<directory>/file urls
#RewriteRule ^assets/((?!/)[a-zA-Z0-9\-]+)/((.*).(.*)) assets/$1/index.php?file=$2 [QSA,L,NC]

RewriteRule ^(assets) - [L]

# ----- Pages -----

#Root directory page
RewriteRule ^((?!ajax/)([a-z-]+))$ index.php?page=$1 [QSA,L,NC]

#Add on the home page if no page is present
RewriteRule ^((?!ajax/)(.*))/$ $1/home [QSA,L,NC]

#Separate out the subdirectory path from the page
RewriteRule ^((?!ajax/)(.*))/(.*)$ index.php?subd=$1&page=$3 [QSA,L,NC]